CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/create table Category (id bigint generated by default as identity (start with 1), createdAt timestamp, description varchar(255), pos integer, status varchar(255), title varchar(255), author_id bigint, primary key (id))
create table Post (id bigint generated by default as identity (start with 1), content longvarchar, createdAt timestamp, header longvarchar, status varchar(255), title varchar(255), author_id bigint, category_id bigint, primary key (id))
create table User (id bigint generated by default as identity (start with 1), blog varchar(255), email varchar(255), firstname varchar(255), image varchar(255), lastname varchar(255), password varchar(255), role varchar(255), status varchar(255), username varchar(255), primary key (id))
create table User_Post (User_id bigint not null, posts_id bigint not null, unique (posts_id))
alter table Category add constraint FK6DD211EA7CD013E foreign key (author_id) references User
alter table Post add constraint FK260CC0FA266C1E foreign key (category_id) references Category
alter table Post add constraint FK260CC0A7CD013E foreign key (author_id) references User
alter table User_Post add constraint FK8B9EA0947D03CECB foreign key (posts_id) references Post
alter table User_Post add constraint FK8B9EA09447140EFE foreign key (User_id) references User
SET AUTOCOMMIT FALSE
INSERT INTO USER VALUES(1,'http://www.mcgivrer.fr/','frederic.delorme@web-context.com','Administrator','test','Blog manager','admin','administrator','a','admin')
INSERT INTO USER VALUES(2,'http://www.mcgivrer.fr/','admin@web-context.com','Moderator','test','Blog publisher','moderator','moderator','a','moderator')
INSERT INTO CATEGORY VALUES(1,'2010-10-05 11:49:00.000000000','all the last news from the blog world.',NULL,'a','News',1)
INSERT INTO POST VALUES(1,'the default content for the first Post','2010-10-10 14:00:00.000000000','the header for the first post','p','My First Post',1,1)
INSERT INTO POST VALUES(2,'the default content for the second from moderator Post','2010-10-10 14:00:00.000000000','the header for this second post','p','The second post from Moderator',2,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
