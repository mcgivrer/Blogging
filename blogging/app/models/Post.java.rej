--- Blogging/app/models/Post.java	2010-11-14 01:07:49.168957598 +0100
+++ blogging/app/models/Post.java	2010-11-05 10:07:13.561465441 +0100
@@ -7,6 +7,7 @@
 
 import javax.persistence.Entity;
 import javax.persistence.Lob;
+import javax.persistence.ManyToOne;
 
 import play.data.validation.Required;
 import play.db.jpa.Model;
@@ -19,28 +20,38 @@
 public class Post extends Model {
 	@Required
 	public String title;
+	@Required
+	@ManyToOne
+	public Category category;
 	@Lob
-	public String header="";
+	public String header;
 	@Required
 	@Lob
 	public String content;
 	@Required
-	public char status;
-	@Required
+	@ManyToOne
 	public User author;
 	public Date createdAt;
+	@Required
+	public String status;
 	
-	public Post(String title, String header, String content, User author, Date createdAt){
+	public Post(String title, Category category, String header, String content, User author, Date createdAt){
 		this.content=content;
+		this.category = category;
 		this.header=header;
 		this.title=title;
 		this.author=author;
 		if(createdAt==null){
-		this.createdAt = new Date();
+			this.createdAt = new Date();
 		}else{
 			this.createdAt = createdAt;
 		}
-		this.status='c';
+		this.status="c";
+	}
+	
+	
+	public void publish(){
+		this.status = "p";
 	}
 	
 	public String toString(){
