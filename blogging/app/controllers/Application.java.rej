--- Blogging/app/controllers/Application.java	2010-11-14 01:07:49.168957598 +0100
+++ blogging/app/controllers/Application.java	2010-11-13 00:47:05.381932001 +0100
@@ -11,12 +11,15 @@
 public class Application extends Controller {
 
     public static void index() {
-    	
-    	if(User.count()==0){
-    		Fixtures.load("init-data.yml");
-    	}
-    	List<Post> posts = Post.find("order by createdAt desc").fetch(2);
-        render(posts);
+    	List<Post> posts = Post.find("order by createdAt desc").fetch(1);
+    	List<Posts> oldposts = Post.find("order by createdAt desc").fetch(1, 5);
+    	List<Category> categories = Category.find("order by pos").fetch();
+        render(posts,oldposts,categories);
     }
-
+	public static void category(Long id){
+    	List<Post> posts = Post.find("where category_id=&id order by createdAt desc").fetch(1);
+    	List<Posts> oldposts = Post.find("order by createdAt desc").fetch(1, 5);
+    	List<Category> categories = Category.find("order by pos").fetch();
+        render(posts,oldposts,categories);	
+	}
 }
